!function(){"use strict";var t=angular.module("viper",["smart-table","ui.bootstrap"]);t.run(["url","token",function(t,n){n.hasVal()||location.pathname==t.login||t.redirect.toLogin()}]),t.factory("url",["$location",function(t){var n=t.search(),o={queryString:function(){return n.redirect},login:"/Home/Login",root:"/",api:{base:"https://api.fitmentgroup.com/",api:"https://api.fitmentgroup.com/api"}},e=function(t){location.pathname=t};return o.redirect={should:{toQueryString:function(){Boolean(o.queryString)}},toQueryString:function(){e(o.queryString)},toRoot:function(){e(o.root)},toLogin:function(){e(o.login)}},o}]),t.factory("token",["$http","url",function(t,n){var o={val:function(t){return t?sessionStorage.setItem("token",t):sessionStorage.getItem("token")},hasVal:function(){var t=o.val();return"null"!=t&&null!=t},init:function(t){return t.grant_type="password",$.post(n.api.base+"/Token",t).then(function(t){o.val(t.access_token),n.redirect.should.toQueryString()?n.redirect.toQueryString():n.toRoot()})}};return o}]),t.factory("api",["$http","url","token",function(t,n,o){function e(e,r){return function(i){return t({url:n.api.api+r,data:i,method:e,headers:{Authorization:"Bearer "+o.val()}})}}return function(t){return{get:e("get",t),post:e("post",t)}}}])}(),function(){"use strict";function t(t,n,o){function e(t){function o(t,n,o){n.client=o}n.open({templateUrl:"/modals/client/confirm-delete.html",controller:["$modalInstance","$scope","client",o],resolve:{client:function(){return t}}}).result.then(function(t){t.$delete().then(c)},function(){})}function r(t){u(!0,t)}function i(){u(!1)}function u(t,e){function r(t,n,o){n.client=o}e||(e={}),n.open({templateUrl:"/modals/client/creation-edition.html",controller:["$modalInstance","$scope","client",r],resolve:{client:function(){return e}}}).result.then(function(n){var e=t?n.$put():o.post({id:null},n).$promise;e.then(c)})}function c(){o.get().then(function(n){t.clients=n.data,t.displayedClients=[].concat(t.clients)})}t.removeModal=e,t.editModal=r,t.createModal=i,c()}angular.module("viper").controller("clientsController",["$scope","$modal","clients",t])}(),function(){"use strict";var t=angular.module("viper");t.factory("clients",["api",function(t){return t("/Clients")}])}(),function(){"use strict";function t(t,n,o){t.user={},t.submit=function(t){o.init(t)}}angular.module("viper").controller("loginController",["$scope","$location","token",t])}(),function(){"use strict";angular.module("viper")}(),function(){"use strict";function t(t){function n(){}var o=this;o.title="sidebar",n()}angular.module("viper").controller("sidebarController",t),t.$inject=["$location"]}();